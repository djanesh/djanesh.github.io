

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.30.2 with theme Tranquilpeak 0.4.3-BETA">
    <title>Machine learning Cards from Twitter in R</title>
    <meta name="author" content="Janesh Devkota">
    <meta name="keywords" content="">

    <link rel="icon" href="http://janeshdevkota.com/favicon.png">
    

    
    <meta name="description" content="I have been following Chris Albon on Twitter and have seen some really nice looking machine learning cards on his Twitter. While one can go to his website and buy all the cards he has produced. However, I was curious to see if I could download those flash cards in R. So, I started looking for a R package that would help to download the tweets by Chris Albon. I ended up using rtweet package for my analysis.">
    <meta property="og:description" content="I have been following Chris Albon on Twitter and have seen some really nice looking machine learning cards on his Twitter. While one can go to his website and buy all the cards he has produced. However, I was curious to see if I could download those flash cards in R. So, I started looking for a R package that would help to download the tweets by Chris Albon. I ended up using rtweet package for my analysis.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Machine learning Cards from Twitter in R">
    <meta property="og:url" content="/2017/12/machine-learning-cards-from-twitter-in-r/">
    <meta property="og:site_name" content="Janesh Devkota&#39;s Garden">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Janesh Devkota&#39;s Garden">
    <meta name="twitter:description" content="I have been following Chris Albon on Twitter and have seen some really nice looking machine learning cards on his Twitter. While one can go to his website and buy all the cards he has produced. However, I was curious to see if I could download those flash cards in R. So, I started looking for a R package that would help to download the tweets by Chris Albon. I ended up using rtweet package for my analysis.">
    
      <meta name="twitter:creator" content="@janeshdev">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/f258ccd6987dbe873c9935485a9383e0?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="http://janeshdevkota.com/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="http://janeshdevkota.com/">Janesh Devkota&#39;s Garden</a>
  </div>
  
    
      <a class="header-right-picture "
         href="http://janeshdevkota.com/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/f258ccd6987dbe873c9935485a9383e0?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="http://janeshdevkota.com/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/f258ccd6987dbe873c9935485a9383e0?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Janesh Devkota</h4>
        
          <h5 class="sidebar-profile-bio">Data science enthusiast working as environmental / water resource engineer</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/about/index.html">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/publications/index.html">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Publications</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/janeshdev" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/1877744/janesh-devkota" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/janeshdev" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://janeshdevkota.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Machine learning Cards from Twitter in R
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-12-20T00:00:00Z">
        
  December 20, 2017

      </time>
    
    
  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>I have been following Chris Albon on Twitter and have seen some really nice looking machine learning cards on his Twitter. While one can go to his <a href="http://machinelearningflashcards.com">website</a> and buy all the cards he has produced. However, I was curious to see if I could download those flash cards in R. So, I started looking for a R package that would help to download the tweets by Chris Albon. I ended up using <code>rtweet</code> package for my analysis.</p>
<p>The libraries that I would be using for this analysis are as follows: * rtweet : To import the tweets from Twitter to R. * dplyr : To do manipulation of tweets * rvest : To extract the information from web data</p>
<p>Let’s get started with <code>rtweet</code> package. First I am going to search for the tweets from Chris Albon.</p>
<pre class="r"><code># Load Libraries
library(rtweet)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(rvest)</code></pre>
<pre><code>## Loading required package: xml2</code></pre>
<div id="rtweet-package-usage" class="section level3">
<h3>rtweet package usage</h3>
<p>I am going to use <code>search_tweets</code> function in <code>rtweet</code> package to find the tweets.</p>
<pre class="r"><code>albon &lt;- rtweet::search_tweets(q = &quot;chrisalbon&quot;, include_rts = FALSE,retryonratelimit = TRUE, n = 18000)</code></pre>
<pre><code>## Searching for tweets...</code></pre>
<pre><code>## This may take a few seconds...</code></pre>
<pre><code>## Finished collecting tweets!</code></pre>
<pre><code>## Searching for tweets...</code></pre>
<pre><code>## This may take a few seconds...</code></pre>
<pre><code>## Finished collecting tweets!</code></pre>
<pre class="r"><code># Look at head of albon dataframe
head(albon)</code></pre>
<pre><code>## # A tibble: 6 x 68
##            status_id          created_at   user_id screen_name
##                &lt;chr&gt;              &lt;dttm&gt;     &lt;chr&gt;       &lt;chr&gt;
## 1 943678561302523904 2017-12-21 03:04:36 260542043 CherFeldman
## 2 943677532875968512 2017-12-21 03:00:31  17078744   NikiDoyle
## 3 943677189173792769 2017-12-21 02:59:09 917677130   Janerette
## 4 943677013034000384 2017-12-21 02:58:27 111506507 reneevaldez
## 5 943676879566802944 2017-12-21 02:57:55 134572409 rajagopalcv
## 6 943676751372156928 2017-12-21 02:57:24  14756900      ialexs
## # ... with 64 more variables: text &lt;chr&gt;, source &lt;chr&gt;,
## #   display_text_width &lt;dbl&gt;, reply_to_status_id &lt;chr&gt;,
## #   reply_to_user_id &lt;chr&gt;, reply_to_screen_name &lt;chr&gt;, is_quote &lt;lgl&gt;,
## #   is_retweet &lt;lgl&gt;, favorite_count &lt;int&gt;, retweet_count &lt;int&gt;,
## #   hashtags &lt;list&gt;, symbols &lt;list&gt;, urls_url &lt;list&gt;, urls_t.co &lt;list&gt;,
## #   urls_expanded_url &lt;list&gt;, media_url &lt;list&gt;, media_t.co &lt;list&gt;,
## #   media_expanded_url &lt;list&gt;, media_type &lt;list&gt;, ext_media_url &lt;list&gt;,
## #   ext_media_t.co &lt;list&gt;, ext_media_expanded_url &lt;list&gt;,
## #   ext_media_type &lt;chr&gt;, mentions_user_id &lt;list&gt;,
## #   mentions_screen_name &lt;list&gt;, lang &lt;chr&gt;, quoted_status_id &lt;chr&gt;,
## #   quoted_text &lt;chr&gt;, quoted_created_at &lt;dttm&gt;, quoted_source &lt;chr&gt;,
## #   quoted_favorite_count &lt;int&gt;, quoted_retweet_count &lt;int&gt;,
## #   quoted_user_id &lt;chr&gt;, quoted_screen_name &lt;chr&gt;, quoted_name &lt;chr&gt;,
## #   quoted_followers_count &lt;int&gt;, quoted_friends_count &lt;int&gt;,
## #   quoted_statuses_count &lt;int&gt;, quoted_location &lt;chr&gt;,
## #   quoted_description &lt;chr&gt;, quoted_verified &lt;lgl&gt;,
## #   retweet_status_id &lt;chr&gt;, retweet_text &lt;chr&gt;,
## #   retweet_created_at &lt;dttm&gt;, retweet_source &lt;chr&gt;,
## #   retweet_favorite_count &lt;int&gt;, retweet_user_id &lt;chr&gt;,
## #   retweet_screen_name &lt;chr&gt;, retweet_name &lt;chr&gt;,
## #   retweet_followers_count &lt;int&gt;, retweet_friends_count &lt;int&gt;,
## #   retweet_statuses_count &lt;int&gt;, retweet_location &lt;chr&gt;,
## #   retweet_description &lt;chr&gt;, retweet_verified &lt;lgl&gt;, place_url &lt;chr&gt;,
## #   place_name &lt;chr&gt;, place_full_name &lt;chr&gt;, place_type &lt;chr&gt;,
## #   country &lt;chr&gt;, country_code &lt;chr&gt;, geo_coords &lt;list&gt;,
## #   coords_coords &lt;list&gt;, bbox_coords &lt;list&gt;</code></pre>
<pre class="r"><code>dim(albon)</code></pre>
<pre><code>## [1] 2000   68</code></pre>
<pre class="r"><code># We could also use the following but I wanted to see the tweets from Chris Albon
# albon1 &lt;- rtweet::search_tweets(q = &quot;machinelearningflashcards.com&quot;, 
#                                 include_rts = FALSE, 
#                                 retryonratelimit = TRUE)</code></pre>
<p>We have got a tibble with 2000 observations and 68 columns. Now, let’s look at the actual tweets. We will be looking at the column <code>text</code> as it has the text of the tweet.</p>
<pre class="r"><code># Text of tweet
albon[, &quot;text&quot;]</code></pre>
<pre><code>## # A tibble: 2,000 x 1
##                                                                           text
##                                                                          &lt;chr&gt;
##  1            @chrisalbon The devs at @Poshmarkapp didnt get this memo. Haha.
##  2    Please, my sanity and yours, LISTEN TO THIS GUY. https://t.co/TLgXpOOOVM
##  3 @chrisalbon Plus also it&#39;s still Mercury Retrograde for another three days.
##  4 Truth. Or in my case, sitting in a McDonald&#39;s parking lot stealing their wi
##  5 Ha ha...Reminded of X.Mas 2012. The blame was on the 2 line mainframe cobol
##  6                                       &quot;:/ ~~~~\\o/ https://t.co/1nAoqKTxSh&quot;
##  7                                       #ReadOnlyWeek https://t.co/K5a8VD2PyQ
##  8 @chrisalbon I have done 5 deploys this week and have at least six more. pra
##  9 Deploying during holidays is ALWAYS a bad idea folks https://t.co/ZZMOzxtlP
## 10                                          Lol truth. https://t.co/nQJyo2C1zk
## # ... with 1,990 more rows</code></pre>
<p>We are interested in the tweets that has images and url <code>machinelearningcards.com</code>. You will notice that all the images / links in Twitter are renamed with the prefix “<a href="https://t.co/" class="uri">https://t.co/</a>”. After some observations, I found out that twitter renamed the website <code>machinelearningflashcards.com</code> as <code>https://t.co/eZ2bbpDzwV</code>. So, let’s use this link as our pattern and find the tweets that has the link. We are going to use <code>grep</code> function to find the pattern in the <code>text</code> column.</p>
<pre class="r"><code>pattern &lt;- &quot;https://t.co/eZ2bbpDzwV&quot;
# Create a new dataframe with only text as the column
machine_learning &lt;- albon[grep(pattern, albon[,&quot;text&quot;] %&gt;% .$text), &quot;text&quot;]
machine_learning</code></pre>
<pre><code>## # A tibble: 16 x 1
##                                                                           text
##                                                                          &lt;chr&gt;
##  1 SVC Radial Basis Function Kernel https://t.co/eZ2bbpDzwV https://t.co/l8Zhh
##  2             Standardization https://t.co/eZ2bbpDzwV https://t.co/sfZ4tOamRv
##  3          Adjusted R-Squared https://t.co/eZ2bbpDzwV https://t.co/fNzk1xC8Pn
##  4               Weak Learners https://t.co/eZ2bbpDzwV https://t.co/D0LSHzlJ3m
##  5        Total Sum-Of-Squares https://t.co/eZ2bbpDzwV https://t.co/ROQxeKKEbb
##  6 Sigmoid Activation Function https://t.co/eZ2bbpDzwV https://t.co/HW3haErLxn
##  7                    Boosting https://t.co/eZ2bbpDzwV https://t.co/4X3NOqLuKT
##  8            Interaction Term https://t.co/eZ2bbpDzwV https://t.co/8fokl8KJfh
##  9                  Hinge Loss https://t.co/eZ2bbpDzwV https://t.co/C0gFuRQnt6
## 10            One-Hot Encoding https://t.co/eZ2bbpDzwV https://t.co/jd2yOf8p5c
## 11   Issues With Platt Scaling https://t.co/eZ2bbpDzwV https://t.co/ziGuhNBycz
## 12               Interpolation https://t.co/eZ2bbpDzwV https://t.co/qZzIZIdyNx
## 13                Determinants https://t.co/eZ2bbpDzwV https://t.co/jTABNspxZz
## 14          Standard Deviation https://t.co/eZ2bbpDzwV https://t.co/Kf4YBHcbV3
## 15          Manhattan Distance https://t.co/eZ2bbpDzwV https://t.co/S3IahqLsBz
## 16                  Notation 4 https://t.co/eZ2bbpDzwV https://t.co/NZsUMwGGr5</code></pre>
<p>After some manipulation, we have found 16 tweets that has machine learning terminology, website link, and the flash card image link. As you can see in all the tweets above, the first link is the website link and the last link is the image link.</p>
<p>If we try to download the image link, R will download the html document. We will have to process these links a little so we can download all the images directly from R.</p>
</div>
<div id="separate-terminology-and-image-links" class="section level3">
<h3>Separate terminology and image links</h3>
<pre class="r"><code># Flash Card URL as url column 
machine_learning$url &lt;- lapply(
  1:nrow(machine_learning), 
  FUN = function(x)
    tail(strsplit(
      machine_learning$text[x], split = &quot; &quot;)
      [[1]],
      n = 1)
) %&gt;%
  as.character()

# Machine learning terminology as name Column
machine_learning$name &lt;- lapply(1:nrow(machine_learning), function(x)
  gsub(
    x = machine_learning$text[x],
    pattern = &quot;https://.+&quot;, replacement = &quot;&quot;
  )) %&gt;%
  as.character()

machine_learning[, c(&quot;url&quot;, &quot;name&quot;)]</code></pre>
<pre><code>## # A tibble: 16 x 2
##                        url                              name
##                      &lt;chr&gt;                             &lt;chr&gt;
##  1 https://t.co/l8ZhhzAytA SVC Radial Basis Function Kernel 
##  2 https://t.co/sfZ4tOamRv                  Standardization 
##  3 https://t.co/fNzk1xC8Pn               Adjusted R-Squared 
##  4 https://t.co/D0LSHzlJ3m                    Weak Learners 
##  5 https://t.co/ROQxeKKEbb             Total Sum-Of-Squares 
##  6 https://t.co/HW3haErLxn      Sigmoid Activation Function 
##  7 https://t.co/4X3NOqLuKT                         Boosting 
##  8 https://t.co/8fokl8KJfh                 Interaction Term 
##  9 https://t.co/C0gFuRQnt6                       Hinge Loss 
## 10 https://t.co/jd2yOf8p5c                 One-Hot Encoding 
## 11 https://t.co/ziGuhNBycz        Issues With Platt Scaling 
## 12 https://t.co/qZzIZIdyNx                    Interpolation 
## 13 https://t.co/jTABNspxZz                     Determinants 
## 14 https://t.co/Kf4YBHcbV3               Standard Deviation 
## 15 https://t.co/S3IahqLsBz               Manhattan Distance 
## 16 https://t.co/NZsUMwGGr5                       Notation 4</code></pre>
<p>We have now separated the terminology and image links. When we will be saving the image we will use text in column <code>name</code> as the name of the flash card image.</p>
</div>
<div id="use-of-rvest-package-to-extract-info-from-link" class="section level3">
<h3>Use of rvest package to extract info from link</h3>
<p>While we have separated the link that contains the link of the image, the actual link that can be used to download image needs to be extracted from html of the pages.</p>
<p>Let us use the link <code>https://t.co/l8ZhhzAytA</code> from the above dataframe to extract the link.</p>
<pre class="r"><code>url &lt;- &quot;https://t.co/l8ZhhzAytA&quot;
url %&gt;% 
  read_html() %&gt;% 
  rvest::html_nodes(&#39;div.js-adaptive-photo&#39;) %&gt;% 
  as.character()</code></pre>
<pre><code>## [1] &quot;&lt;div class=\&quot;AdaptiveMedia-photoContainer js-adaptive-photo \&quot; data-image-url=\&quot;https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png\&quot; data-element-context=\&quot;platform_photo_card\&quot; style=\&quot;background-color:rgba(64,47,59,1.0);\&quot; data-dominant-color=\&quot;[64,47,59]\&quot;&gt;\n  &lt;img data-aria-label-part src=\&quot;https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png\&quot; alt=\&quot;\&quot; style=\&quot;width: 100%; top: -0px;\&quot;&gt;\n&lt;/div&gt;&quot;</code></pre>
<p>From the output above, we can see the link <code>https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png</code>. This is the link we will be using to download the flash card. We want to process it nicely so that we could use the same approach for all the 16 cards. Let’s extract only the image link.</p>
<pre class="r"><code>url %&gt;% 
  read_html() %&gt;% 
  rvest::html_nodes(&#39;div.js-adaptive-photo&#39;) %&gt;% 
  as.character() %&gt;%
strsplit(split = &quot;\\ &quot;) %&gt;% 
     unlist() #%&gt;% </code></pre>
<pre><code>##  [1] &quot;&lt;div&quot;                                                              
##  [2] &quot;class=\&quot;AdaptiveMedia-photoContainer&quot;                              
##  [3] &quot;js-adaptive-photo&quot;                                                 
##  [4] &quot;\&quot;&quot;                                                                
##  [5] &quot;data-image-url=\&quot;https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png\&quot;&quot;
##  [6] &quot;data-element-context=\&quot;platform_photo_card\&quot;&quot;                      
##  [7] &quot;style=\&quot;background-color:rgba(64,47,59,1.0);\&quot;&quot;                    
##  [8] &quot;data-dominant-color=\&quot;[64,47,59]\&quot;&gt;\n&quot;                             
##  [9] &quot;&quot;                                                                  
## [10] &quot;&lt;img&quot;                                                              
## [11] &quot;data-aria-label-part&quot;                                              
## [12] &quot;src=\&quot;https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png\&quot;&quot;           
## [13] &quot;alt=\&quot;\&quot;&quot;                                                          
## [14] &quot;style=\&quot;width:&quot;                                                    
## [15] &quot;100%;&quot;                                                             
## [16] &quot;top:&quot;                                                              
## [17] &quot;-0px;\&quot;&gt;\n&lt;/div&gt;&quot;</code></pre>
<pre class="r"><code>    # .[5] %&gt;% 
    # gsub(pattern = &quot;data-image-url&quot;, replacement = &quot;&quot;) %&gt;% 
    # gsub(pattern = &quot;\\=&quot;, replacement = &quot;&quot;) %&gt;% 
    # gsub(pattern = &#39;\&quot;&#39;, replacement = &quot;&quot;)</code></pre>
<p>From the output above, we can see that there are two elements <code>5</code> and <code>12</code> that has the image download link that we are intested. I am going to use the 5th element to extract the link. The complete code for the url we chose is as follows:</p>
<pre class="r"><code>url %&gt;% 
  read_html() %&gt;% 
  rvest::html_nodes(&#39;div.js-adaptive-photo&#39;) %&gt;% 
  as.character() %&gt;%
strsplit(split = &quot;\\ &quot;) %&gt;% 
     unlist() %&gt;% 
    .[5] %&gt;%
    gsub(pattern = &quot;data-image-url&quot;, replacement = &quot;&quot;) %&gt;%
    gsub(pattern = &quot;\\=&quot;, replacement = &quot;&quot;) %&gt;%
    gsub(pattern = &#39;\&quot;&#39;, replacement = &quot;&quot;)</code></pre>
<pre><code>## [1] &quot;https://pbs.twimg.com/media/DRg-8nNUMAAh7_g.png&quot;</code></pre>
<p>We got the link that we were looking for.</p>
</div>
<div id="extracting-image-links-for-all-elements" class="section level3">
<h3>Extracting image links for all elements</h3>
<p>We figured out how to extract the link for 1 instance. Let’s use the R <code>sapply</code> function and generalize the above procedure and write a code to download all 16 images.</p>
<pre class="r"><code># Use rvest to process the image
sapply(1:nrow(machine_learning), function(x) 
  machine_learning$url[x] %&gt;% 
    as.character() %&gt;%
    # Read URL using rvest function read_html
    xml2::read_html() %&gt;% 
    rvest::html_nodes(&#39;div.js-adaptive-photo&#39;) %&gt;% 
    as.character() %&gt;% 
    strsplit(split = &quot;\\ &quot;) %&gt;% 
    unlist() %&gt;% 
    .[5] %&gt;% 
    gsub(pattern = &quot;data-image-url&quot;, replacement = &quot;&quot;) %&gt;% 
    gsub(pattern = &quot;\\=&quot;, replacement = &quot;&quot;) %&gt;% 
    gsub(pattern = &#39;\&quot;&#39;, replacement = &quot;&quot;) %&gt;% 
    download.file(destfile = paste0(
      &quot;machine_learning/&quot;,machine_learning$name[x], &quot;.png&quot;
    ), mode = &#39;wb&#39;))</code></pre>
<p>I will have to do some research to find out previous flash cards. He might have posted the images without the link to his website.</p>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://janeshdevkota.com/2017/12/spatial-analysis-and-coordinate-transformation-in-r/" data-tooltip="Spatial data and coordinate transformation in R">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2017 Janesh Devkota. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://janeshdevkota.com/2017/12/spatial-analysis-and-coordinate-transformation-in-r/" data-tooltip="Spatial data and coordinate transformation in R">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fjaneshdevkota.com%2F2017%2F12%2Fmachine-learning-cards-from-twitter-in-r%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http%3A%2F%2Fjaneshdevkota.com%2F2017%2F12%2Fmachine-learning-cards-from-twitter-in-r%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http%3A%2F%2Fjaneshdevkota.com%2F2017%2F12%2Fmachine-learning-cards-from-twitter-in-r%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/f258ccd6987dbe873c9935485a9383e0?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Janesh Devkota</h4>
    
      <div id="about-card-bio">Data science enthusiast working as environmental / water resource engineer</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Sr. Water Resources Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Seattle, WA
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://janeshdevkota.com/2017/12/machine-learning-cards-from-twitter-in-r/">
                <h3 class="media-heading">Machine learning Cards from Twitter in R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have been following Chris Albon on Twitter and have seen some really nice looking machine learning cards on his Twitter. While one can go to his website and buy all the cards he has produced. However, I was curious to see if I could download those flash cards in R. So, I started looking for a R package that would help to download the tweets by Chris Albon. I ended up using rtweet package for my analysis.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://janeshdevkota.com/2017/12/spatial-analysis-and-coordinate-transformation-in-r/">
                <h3 class="media-heading">Spatial data and coordinate transformation in R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I come to these situations where I have to work with spatial datasets frequently. Sometimes the datasets is in lat-long format and sometimes on UTM (Universal transverse Mercator) coordinate or state plane coordinate system.
I extensively use EFDC (Environmental Fluid Dynamic Code) model to do environmental modeling and have to convert the data into UTM coordinate system. I had used CORPSCON in the past but as an R enthusiast I wanted to dig deeper in R and finad a way to do the transformation in R environment.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://janeshdevkota.com/2017/12/2015-earthquake-in-nepal-data-analysis-and-implications/">
                <h3 class="media-heading">2015 Earthquake in Nepal : Earthquake magnitude and Casualty Analysis</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In this blogpost, I am going to take the earthquake data from April 2015 to May 2016 throughout the World. Then we will process the data in usable form and look at the data on Nepal. Later, we will also dive into the casualties from this devastating earthquake. We will look at how many people died, got injured from which district, using ggplot2, wordcloud and leaflet package.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://janeshdevkota.com/2017/11/fantasy-premier-league/">
                <h3 class="media-heading">Fantasy Premier League Analysis in R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This is my first blog on data science topics. In this blog post, I will show you how to import the data from fantasy premier league into R and perform exploratory data analysis. ————-
The questions that came up in my mind before doing this analysis are:
How has Wayne Rooney been performing for the last several years ?How do Romelu Lukaku, Sergio Aguero, Harry Kane line up side by side ?</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         4 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('http://janeshdevkota.com/images/cover-v1.2.0.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="http://janeshdevkota.com/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'http:\/\/janeshdevkota.com\/2017\/12\/machine-learning-cards-from-twitter-in-r\/';
          
            this.page.identifier = '\/2017\/12\/machine-learning-cards-from-twitter-in-r\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'janeshdevkota-com';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

